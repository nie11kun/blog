---
layout: post
title: "遇到的那些坑"
date: 2017-05-25 
description: "初步学习iOS开发的苦"
tag: swift
---   

这几天有一个初步的想法，做一个我部门的程序生成软件iOS版，有了一个初步的架构：
* 前端在iOS平台上实现一个需要的配置信息的收集与生成，初步计划用json文件管理信息，便于跨平台交互
* 后端在VPS上接受App发来的json文件，解析内容
* 使用Python脚本根据解析的内容提取需要的文件，打包
* 搭建邮件服务端，根据发来的email地址将打包好的文件发到指定位置

有了这个初步的方案，这几天在逐步实施，首先的iOS端处理就让我遇到不少问题，以至于拖了好多天才基本将逻辑理清楚。

考虑到信息基本分为两大类：用户和配置，决定使用TabBar来实现，每个TabBar分别再使用Table管理，然后每个Table再有一个下级Table，遇到不少问题：
* segue参数的传递，开始的教程里用的那个数组journal，是可以在不同界面间实现参数的传递的，但我在自己的使用中，发现界面a的某个参数，通过segue传递到b，但在b中经过修改后，a无法识别到，这一个问题折腾我半天，后来发现，需要建立把参数建立在独立的class里，通过func的方式在a和b中修改，这让就都可以共享了。
* 单个cell的DetailTextLabel，应该用.text的方式修改其文本
* json文件里，还是不知道怎么将所有的key提取出来做成一个数组，转出来后好像也不是array格式的，提示检索不到索引，好像还是dictronary的，退而求其次的讲需要的key都单独做了个数组，这样json文件里就有重复的信息了，并且需要把索引数组和具体内容的数量格式保证完成对应。不太方便，后面还需要查查资料。
* 单个table里，如何建立多个section，如何单独往里面写入数据？

开发的坑很多，还是自己太水了，希望通过自己的熟悉，多多填坑😄

