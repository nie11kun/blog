<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"
xmlns:thr="http://purl.org/syndication/thread/1.0"
xml:lang="zh-CN"
xml:base="https://blog.niekun.net/category/web/"
>
<title type="text">Marco Nie - web</title>
<subtitle type="text"></subtitle>
<updated>2020-12-18T18:53:00+08:00</updated>
<generator uri="http://typecho.org/" version="1.2/18.10.23">Typecho</generator>
<link rel="alternate" type="text/html" href="https://blog.niekun.net/category/web/" />
<id>https://blog.niekun.net/feed/atom/category/web/</id>
<link rel="self" type="application/atom+xml" href="https://blog.niekun.net/feed/atom/category/web/" />
<entry>
<title type="html"><![CDATA[JavaScript 入门教程之六 -- 核心 Objects]]></title>
<link rel="alternate" type="text/html" href="https://blog.niekun.net/archives/1997.html" />
<id>https://blog.niekun.net/archives/1997.html</id>
<updated>2020-12-18T18:53:00+08:00</updated>
<published>2020-12-18T18:53:00+08:00</published>
<author>
    <name>admin</name>
    <uri>https://niekun.net</uri>
</author>
<summary type="html"><![CDATA[下面介绍一些 JavaScript 内部定义好的 obect，可以直接使用。JavaScript Arrays 数组当你需要定义三个课程名称时，需要分别定义：var course1 =&amp;quot...]]></summary>
<content type="html" xml:base="https://blog.niekun.net/archives/1997.html" xml:lang="zh-CN"><![CDATA[
<p>下面介绍一些 JavaScript 内部定义好的 obect，可以直接使用。</p><h3>JavaScript Arrays 数组</h3><p>当你需要定义三个课程名称时，需要分别定义：</p><pre><code>var course1 =&quot;HTML&quot;; 
var course2 =&quot;CSS&quot;; 
var course3 =&quot;JS&quot;; </code></pre><p>当你有 100 个课程名称呢？这时候可以使用 Array：</p><pre><code>var courses = new Array(&quot;HTML&quot;, &quot;CSS&quot;, &quot;JS&quot;);</code></pre><!--more--><p>以上定义了一个数组 courses，存储了 3 个元素。</p><p>可以使用 index 索引号内访问数组元素，索引号 0 表示第一个元素：</p><pre><code>var courses = new Array(&quot;HTML&quot;, &quot;CSS&quot;, &quot;JS&quot;);
var course = courses[0];
courses[1] = &quot;c++&quot;;</code></pre><p>以上示例表示：给变量 course 赋值数组第一个元素，给第二个元素赋值 <code>c++</code>。</p><p><strong>如果尝试访问超出数组元素的索引，会返回 <code>undefined</code></strong>。</p><p>在定义数组时也可以只申明数组元素个数，后续再给元素赋值：</p><pre><code>var courses = new Array(3);
courses[0] = &quot;HTML&quot;;
courses[1] = &quot;CSS&quot;;
courses[2] = &quot;JS&quot;;</code></pre><p>array 数组是一种特殊的 object，它使用 index number 来访问元素，而标准 object 使用 property name 来访问元素。</p><p>JavaScript array 是动态的，也就是你可以在创建时不传入任何参数给构造器：</p><pre><code>var courses = new Array();
courses[0] = &quot;HTML&quot;;
courses[1] = &quot;CSS&quot;;
courses[2] = &quot;JS&quot;;
courses[3] = &quot;C++&quot;;</code></pre><p>你可以添加任意多个元素给数组。</p><p>为了定义更加方便，可以使用 array literal 语法来创建数组：</p><pre><code>var courses = [&quot;HTML&quot;, &quot;CSS&quot;, &quot;JS&quot;];</code></pre><p>以上语法和使用 <code>new</code> 关键词创建的数组是一样的。<strong>推荐使用这种语法</strong>。</p><p><strong>JavaScript array 内建了很多实用的 properties 和 method。</strong></p><p>array 的 <code>length</code> property 返回数组的元素个数：</p><pre><code>var courses = [&quot;HTML&quot;, &quot;CSS&quot;, &quot;JS&quot;];
document.write(courses.length);</code></pre><p><code>length</code> 的返回值比最后一个元素的索引号大 1，如果数组为空，则返回值为 0。</p><p>使用 <code>concat()</code> method 可以叠加两个数组并返回为一个新的数组：</p><pre><code>var c1 = [&quot;HTML&quot;, &quot;CSS&quot;, &quot;JS&quot;];
var c2 = [&quot;C++&quot;];
var newC = c1.concat(c2);</code></pre><p>newC 数组拥有四个元素："HTML", "CSS", "JS", "C++"。注意使用 <code>concat()</code> method 并不会影响 c1 和 c2。</p><p><strong>Associative Arrays</strong> 关联型数组</p><p>很多编程语言支持给数组添加命名化的 index 索引，也就是给每个元素定义一个名称，<strong>但是 JavaScript 不支持这种操作</strong>。</p><p>但是我们依然可以定义命名化的 index 索引数组，JavaScript 会将其作为一个 object 处理：</p><pre><code>var a = [];
a[&quot;name&quot;] = &quot;marco&quot;;
a[&quot;age&quot;] = 20;
document.write(a[&quot;age&quot;]);</code></pre><p>JavaScript 会将 a 作为 object 处理，这样 name 和 age 就是其 properties。可以使用以上写法来读取 property 数据。</p><p>由于 a 数组被作为 object 处理，所以标准 array 的一些 method 和 properties 将无法正确执行，例如：<code>a.length</code> 返回值将是 0 而不是 2。</p><p>JavaScript 原生并不支持命名化的元素索引，所以<strong>推荐</strong>当你想要使用 number 数字型 index 时使用 array，当你想要使用命名化的索引时使用 object。</p><h3>the Math Object 数学对象</h3><p>the Math Object 可以用来处理数学运算任务，它包含多个 properties：<br><img src="https://blog.niekun.net/usr/uploads/2020/12/2493943028.png" alt="1.png" title="1.png"></p><p><strong>Math 没有 constructor 构造器</strong>，所以使用时并不需要单独创建 object。例如：</p><pre><code>document.write(Math.PI);
</code></pre><p>以上将输出：3.141592653589793</p><p>Math object 包含多个 method 用来计算：<br><img src="https://blog.niekun.net/usr/uploads/2020/12/2808938315.png" alt="2.png" title="2.png"></p><p>下面示例计算 4 的平方根：</p><pre><code>var a = Math.sqrt(4);</code></pre><p>如果想要得到一个 0- 10 的随机数，可以使用下面方法：</p><pre><code>Math.ceil(Math.random() * 10);
</code></pre><p>下面编写一个小程序，让用户输入一个数字然后将这个数字的平方根放在弹窗通知中：</p><pre><code>var n = prompt(&quot;please input a number: &quot;, &quot;&quot;);
var m = Math.sqrt(n);
alert(m);</code></pre><h3>The Date Object 时间对象</h3><p><code>setInterval()</code> method 用来在指定的间隔时间(毫秒)下调用 function 或评估一个表达式。它将会持续调用直到执行 <code> clearInterval()</code> 或关闭窗口。</p><p>下面的示例将会每三秒钟弹出窗口：</p><pre><code>function myAlert() {
    alert(&quot;hello&quot;);
}
setInterval(myAlert, 3000);</code></pre><p>注意传递 function 时只需要写 function 名称即可，不需要小括号<code>()</code>。</p><p><code>Data</code> object 可以让我们使用时间元素，一个 <code>Date</code> object 由：a year, a month, a day, an hour, a minute, a second, and milliseconds 构成。</p><p>使用 <code>new</code> 关键词来创建一个 Date obect，包含有当前的<strong>日期和时间</strong>：</p><pre><code>var d = new Date();
//d stores the current date and time</code></pre><p>也可以使用指定的日期和时间来创建 Date object：</p><pre><code>new Date(milliseconds)
new Date(dateString)
new Date(year, month, day, hours, minutes, seconds, milliseconds)</code></pre><p>JavaScript 日期计算使用毫秒为单位，起始日期为：01 January, 1970 00:00:00 (UTC)。一天包含 86,400,000 毫秒。</p><p>以下示例使用不同方式定义指定日期：</p><pre><code>//Fri Jan 02 1970 00:00:00
var d1 = new Date(86400000); 

//Fri Jan 02 2015 10:42:00
var d2 = new Date(&quot;January 2, 2015 10:42:00&quot;);

//Sat Jun 11 1988 11:42:00
var d3 = new Date(88,5,11,11,42,0,0);</code></pre><p>JavaScript 的月份从 0 到 11，1 月就是 0，12 月就是 11。Date object 是 static 类型的，创建后就不会改变。</p><p>Date object 有如下 method 可供使用：<br><img src="https://blog.niekun.net/usr/uploads/2020/12/986046713.png" alt="3.png" title="3.png"></p><p>例如读取当前小时数值：</p><pre><code>var d = new Date();
document.write(d.getHours());</code></pre><p>下面示例在窗口显示当前时间，且每秒刷新一次：</p><pre><code>function printTime() {
    var d = new Date();
    var hour = d.getHours();
    var min = d.getMinutes();
    var sec = d.getSeconds();
    document.body.innerHTML = hour + &quot;:&quot; + min + &quot;:&quot; + sec;
}

setInterval(printTime, 1000);</code></pre><p><code>innerHTML</code> property 可以设置或返回一个 HTML 元素的内容，这里我们将 document 的 body 块的内容赋值为我们定义的时间数据，并且每秒覆盖更新一次。</p>
]]></content>
<link rel="replies" type="text/html" href="https://blog.niekun.net/archives/1997.html#comments" thr:count="0" />
<link rel="replies" type="application/atom+xml" href="https://blog.niekun.net/feed/atom/archives/1997.html" thr:count="0"/>
</entry>
<entry>
<title type="html"><![CDATA[JavaScript 入门教程之五 -- Objects]]></title>
<link rel="alternate" type="text/html" href="https://blog.niekun.net/archives/1996.html" />
<id>https://blog.niekun.net/archives/1996.html</id>
<updated>2020-12-18T15:25:00+08:00</updated>
<published>2020-12-18T15:25:00+08:00</published>
<author>
    <name>admin</name>
    <uri>https://niekun.net</uri>
</author>
<summary type="html"><![CDATA[JavaScript 的 variables 变量是用来包含数据的容器。object 同样是变量，但是包含了多个数据。一个 object 是一组使用 name:value 模式定义的数据集合，大...]]></summary>
<content type="html" xml:base="https://blog.niekun.net/archives/1996.html" xml:lang="zh-CN"><![CDATA[
<p>JavaScript 的 variables 变量是用来包含数据的容器。object 同样是变量，但是包含了多个数据。</p><p>一个 object 是一组使用 <strong>name:value</strong> 模式定义的数据集合，大括号<code>{}</code> 内部定义数据，数据间使用逗号<code>,</code> 分隔，注意大括号结尾的分号<code>;</code>：</p><pre><code>var person = {
    name: &quot;marco&quot;, age: 20,
    like: &quot;basketball&quot;, height: 170
};</code></pre><!--more--><p>这些数据叫做 <strong>properties</strong>：</p><table><thead><tr><th align="center"> </th><th align="center"> </th></tr></thead><tbody><tr><td align="center"><strong>property</strong></td><td align="center"><strong>property value</strong></td></tr><tr><td align="center">name</td><td align="center">marco</td></tr><tr><td align="center">age</td><td align="center">20</td></tr><tr><td align="center">like</td><td align="center">basketball</td></tr><tr><td align="center">height</td><td align="center">170</td></tr></tbody></table><p>object 初始化语法可以写在一行，也可以写在多行。以下两种写法都是一样的：</p><pre><code>var John = {name: &quot;John&quot;, age: 25};

var John = {
  name: &quot;John&quot;,
  age: 25
};</code></pre><p>JavaScript 的 object 就是一组有命名的数据的容器。</p><p>有两种方法访问 object 的 properties：</p><pre><code>objectName.propertyName
//or
objectName['propertyName']</code></pre><p>使用上面的示例访问 properties，以下两种结果是一样的：</p><pre><code>var x = person.age;
var y = person['age'];</code></pre><p>使用 JavaScript 内建的 <code>length</code> property 可以得到 property 或 string 包含的字符个数:</p><pre><code>var a = person.name.length;</code></pre><h3>method</h3><p><strong>object method</strong> 就是一个定义了 function 的 property，使用 object method 的语法为：</p><pre><code>objectName.methodName()
</code></pre><p>我们前面多次使用 <code>document.write()</code> 来输出内容到网页，实际上 <code>write()</code> function 就是 document object 的一个 method。</p><p>定义一个 method 的语法如下：</p><pre><code>methodName = function() { code lines }
</code></pre><p>在上面的示例中给 object 加入一个 method：</p><pre><code>var person = {
    name: &quot;marco&quot;, age: 20,
    like: &quot;basketball&quot;, height: 62,
    test: function() {
        alert(&quot;method&quot;);
    }
};

person.test();</code></pre><p>使用 method 的方法和 properties 一样，需要加上小括号<code>()</code>。</p><h3>The Object Constructor 构造器</h3><p>上一节我们学习了如何建立 object，例如：</p><pre><code>var person = {
name: &quot;John&quot;, age: 42, favColor: &quot;green&quot;
};</code></pre><p>以上的写法一次只能创建一个 object，那么如何设置一种 <strong>object type</strong> 用来创建多个统一类型的 objects 呢？</p><p>标准的方法是使用 <strong>constructor function</strong> 构造器来定义一个 <strong>object type</strong>：</p><pre><code>function person(name, age, color) {
  this.name = name;
  this.age = age;
  this.favColor = color;
}</code></pre><p>以上就是一个 constructor function，接收传入数据来赋值给 object properties。关键词 <code>this</code> 表示当前 object 本身。</p><p>当我们定义了一个 object constructor，就可以使用关键词 <code>new</code> 来新建一个 object：</p><pre><code>var p1 = new person(&quot;marco&quot;, 25, &quot;blue&quot;);
document.write(p1.name);

//output:
//marco</code></pre><p>p1 就是 person 类型的 object，它的 properties 就是对应传入的数据。</p><p>同样的方法，可以在 object constructor 中定义 method：</p><pre><code>    function person(name, age, color) {
        this.name = name;
        this.age = age;
        this.favColor = color;
        this.changeName = function(name) {
            this.name = name;
        }
    }

    var p1 = new person(&quot;marco&quot;, 25, &quot;blue&quot;);
    p1.changeName(&quot;john&quot;);
    document.write(p1.name);</code></pre><p>以上示例中，我们定义了一个 <code>changeName</code> method，它有一个参数 <code>name</code> 用来赋值给 object 的 propertiy <code>name</code>。</p><p>也可以在 object constructor function 外部定义 method：</p><pre><code>function person(name, age, color) {
    this.name = name;
    this.age = age;
    this.yearOfBirth = bornyear;
}

function bornyear() {
    return 2020 - this.age;
}

var p1 = new person(&quot;marco&quot;, 25);
document.write(p1.yearOfBirth());</code></pre><p>以上示例中，我们给 property <code>yearOfBirth</code> 赋值为 <code>bornyear</code>。<code>bornyear</code> function 在外部定义，this 关键词可以来访问 person 的 properties，因为 bornyear 复制给了 person 的一个 property。</p><p><strong>注意当将一个 function 赋值给 object 时不需要写小括号<code>()</code></strong>。</p><p>通过 object property name 来调用构造器定义的 method，注意不是外部 function 的名称。</p>
]]></content>
<link rel="replies" type="text/html" href="https://blog.niekun.net/archives/1996.html#comments" thr:count="0" />
<link rel="replies" type="application/atom+xml" href="https://blog.niekun.net/feed/atom/archives/1996.html" thr:count="0"/>
</entry>
<entry>
<title type="html"><![CDATA[JavaScript 入门教程之四 -- Functions]]></title>
<link rel="alternate" type="text/html" href="https://blog.niekun.net/archives/1992.html" />
<id>https://blog.niekun.net/archives/1992.html</id>
<updated>2020-12-18T13:58:50+08:00</updated>
<published>2020-12-18T13:58:50+08:00</published>
<author>
    <name>admin</name>
    <uri>https://niekun.net</uri>
</author>
<summary type="html"><![CDATA[JavaScript function 就是一个执行特定任务的代码块。使用 function 的优点是：代码复用通过传入不同参数得到不同结果function 需要被调用才能执行。]]></summary>
<content type="html" xml:base="https://blog.niekun.net/archives/1992.html" xml:lang="zh-CN"><![CDATA[
<p>JavaScript function 就是一个执行特定任务的代码块。</p><p>使用 function 的优点是：</p><ul><li>代码复用</li><li>通过传入不同参数得到不同结果</li></ul><p>function 需要被调用才能执行。</p><!--more--><h3>定义</h3><p>使用关键词 <code>function</code> 来定义一个 function，需要指定名称，使用大括号<code>{}</code> 来定义代码块：</p><pre><code>function name() { 
  //code to be executed
}</code></pre><p>function name 可以包含字符、数字，下划线和 <code>&amp;</code> 符号。</p><p>下面定义一个简单的 function：</p><pre><code>function myFunction() {
    alert(&quot;call the function&quot;);
}

myFunction();</code></pre><p>一个 function 可以被调用任意次数，</p><p>当需要调用 function 时，直接使用 function name 名称及小括号<code>()</code> 即可。注意结尾要写分号<code>;</code>。</p><p>还有一种调用写法：<code>myFunction.call()</code>。当使用这种方法时，会自动将关键词 <code>this</code> 传入此 function，后续会详细介绍。</p><h3>function 参数</h3><p>function 可以接收参数，在定义时需要列出来：</p><pre><code>functionName(param1, param2, param3) {
   // some code
}</code></pre><p>多个参数使用逗号<code>,</code> 隔开。</p><p>当定义了参数后，就可以在 function 代码块内使用：</p><pre><code>function myFunction(name) {
    alert(&quot;hi &quot; + name);
}

myFunction(&quot;marco&quot;);</code></pre><p>以上第一了一个 function 有一个 name 参数，当调用此 function 时需要给 name 赋值。function 内部就会将赋值数据分配个 name 参数。</p><p>调用 function 时，通过不同的参数值来得到不同的结果：</p><pre><code>myFunction(&quot;marco&quot;);
myFunction(&quot;john&quot;);
myFunction(&quot;tom&quot;);</code></pre><p>使用逗号分隔多个参数：</p><pre><code>function myFunction(name, age) {
    alert(&quot;my name is &quot; + name + &quot;, age is &quot; + age);
}

myFunction(&quot;marco&quot;, 20);</code></pre><p>JavaScript 不会检查调用 function 时的传入参数个数和定义的参数个数是否一致，如果调用时缺少传递参数，则缺失的参数会被赋值为 <code>undefined</code>，表示没有被分配数据。</p><p>function 可以有一个可选的 <code>return</code> 命令，用来从 function 返回一个数据。</p><p>当 JavaScript 执行到 <code>return</code> 时，会停止执行后续指令。</p><p>下面的示例中，我们计算两个参数的和并返回结果：</p><pre><code>function myFunction(a, b) {
    return a + b;
}

var x = myFunction(1, 2);</code></pre><p>变量 x 的值就是 3。</p><p><strong>如果 function 中没有 <code>return</code> 则默认会返回  <code>undefined</code></strong>。</p><h3>Alert, Prompt, Confirm</h3><p>JavaScript 提供三种弹出窗口：Alert, Prompt, Confirm。</p><p><strong>alert Box</strong> 用来给用户显示一个提示信息，需要点击 OK 来取消弹窗。有一个参数：</p><pre><code>alert(&quot;this is a alert&quot;);</code></pre><p>信息中需要换行的话可以加入 <code>\n</code>：</p><pre><code>alert(&quot;this is\n a alert&quot;);
</code></pre><p>效果如下：<br><img src="https://blog.niekun.net/usr/uploads/2020/12/1686727989.jpg" alt="2.jpg" title="2.jpg"></p><p><strong>Prompt Box</strong> 用来弹出一个用户可以输入数据的提示窗口。</p><p>用户需要点击 OK 或 cancel 来退出窗口，如果点击 OK 则会 return 输入的数据，如果点击 cancel 则会返回 null。</p><p><code>prompt()</code> 有两个参数，第一个是窗口显示的提示信息字符串，第二个是输入框的默认字符(可选项)：</p><pre><code>var a = prompt(&quot;please input value&quot;, &quot;test&quot;);
document.write(a);</code></pre><p>效果如下：<br><img src="https://blog.niekun.net/usr/uploads/2020/12/600067485.jpg" alt="3.jpg" title="3.jpg"></p><p>选择 OK 后变量 a 会赋值为输入的数据。</p><p><strong>confirm box</strong> 可以用来作为确认对话框。</p><p>用户必须点击 OK 或 cancel 来退出窗口，当点击 OK 后 box 会返回 true，当点击 cancel 后 box 会返回 false：</p><pre><code>var result = confirm(&quot;if confirm&quot;);

if (result) {
    alert(&quot;confirmed&quot;);
}
else {
    alert(&quot;not confirmd&quot;);
}</code></pre><p>弹出窗口不要过多的使用，因为弹出窗口会导致页面不可用。</p>
]]></content>
<link rel="replies" type="text/html" href="https://blog.niekun.net/archives/1992.html#comments" thr:count="0" />
<link rel="replies" type="application/atom+xml" href="https://blog.niekun.net/feed/atom/archives/1992.html" thr:count="0"/>
</entry>
<entry>
<title type="html"><![CDATA[JavaScript 入门教程之三 -- Conditionals and Loops]]></title>
<link rel="alternate" type="text/html" href="https://blog.niekun.net/archives/1990.html" />
<id>https://blog.niekun.net/archives/1990.html</id>
<updated>2020-12-18T11:10:00+08:00</updated>
<published>2020-12-18T11:10:00+08:00</published>
<author>
    <name>admin</name>
    <uri>https://niekun.net</uri>
</author>
<summary type="html"><![CDATA[The if Statement在编程中，如果想要根据不同的情况执行不同的代码，可以使用 if conditional statements 状况指令来处理，语法如下：if (condition...]]></summary>
<content type="html" xml:base="https://blog.niekun.net/archives/1990.html" xml:lang="zh-CN"><![CDATA[
<h3>The if Statement</h3><p>在编程中，如果想要根据不同的情况执行不同的代码，可以使用 <code>if conditional statements</code> 状况指令来处理，语法如下：</p><pre><code>if (condition) {
   statements
}</code></pre><p>使用 if 语法来根据 condition 是否为 true 来确定是否执行 statements。下面举例说明，修改 html 文件 script 部分：</p><pre><code>var a = 1;
if (a == 1) {
    alert(&quot;a is 1&quot;);
}</code></pre><!--more--><p>效果如下：<br><img src="https://blog.niekun.net/usr/uploads/2020/12/185715999.jpg" alt="1.jpg" title="1.jpg"></p><p>如果修改 condition 不为 true 则不会执行内部指令：</p><pre><code>var a = 2;
if (a == 1) {
    alert(&quot;a is 1&quot;);
}</code></pre><p>以上示例不会执行 alert function。</p><p>注意如果 statement 指令只有一句时，<strong>可以省略大括号</strong>，如下写法也是正确的：</p><pre><code>var a = 1;
if (a == 1)
    alert(&quot;a is 1&quot;);</code></pre><p>使用 <code>else</code> 申明来 condition 为 false 时执行的指令：</p><pre><code>if (expression) {
   // executed if condition is true
}
else {
   // executed if condition is false
}</code></pre><p>下面举例说明：</p><pre><code>var a = 1;
var b = 2;
if (a &lt; b)
    alert(&quot;a smaller than b&quot;);
else
    alert(&quot;a is bigger than b&quot;);</code></pre><p>以上示例实现的动作也可以使用我们上一章提到的状况判断符来实现：</p><pre><code>a &lt; b ? alert(&quot;a smaller than b&quot;) : alert(&quot;a is bigger than b&quot;);
</code></pre><p>如果 condition 不止有两种情况要处理，可以使用 <code>else if</code> 申明多个情况下的指令，修改上面的示例：</p><pre><code>var a = 2;
var b = 2;
if (a &lt; b)
    alert(&quot;a smaller than b&quot;);
else if (a == b)
    alert(&quot;a equal to b&quot;);
else
    alert(&quot;a is bigger than b&quot;);</code></pre><p>则会执行 <code>alert(&quot;a equal to b&quot;);</code> 指令。</p><p>注意 <code>else</code> 在整个块中必须作为最后一个申明写在 <code>if</code> 和 <code>else if</code> 之后，如果所有 condition 的条件都不满足则会执行 <code>else</code> 中的申明指令。</p><p>可以根据情况使用任意多个 <code>else if</code> 申明。</p><h3>switch</h3><p>当 condition 有多个情况需要处理时，使用 <code>else if</code> 就会很麻烦。这时候可以使用 <code>switch statement</code> 来处理，语法如下：</p><pre><code>switch (expression) {
  case n1: 
     statements
     break;
  case n2: 
     statements
     break;
  default: 
     statements
}</code></pre><p><code>switch expression</code> 会被评估一次，然后在 <code>case</code> 中寻找匹配的结果并执行对应块的指令。</p><p>以下是一个简单示例：</p><pre><code>var day = 2;
switch (day) {
    case 1:
        document.write(&quot;today is monday&quot;);
        break;
    case 2:
        document.write(&quot;today is tuesday&quot;);
        break;
    default:
        document.write(&quot;today is another day&quot;);
        break;
}</code></pre><p>当 day 的值为 2，则会匹配到 case 2 并执行其内的指令。</p><p>当 JavaScript 执行到 <code>break</code> 后会跳出 switch 块，如果不写 <code>break</code> 则会顺序执行下面的指令，即使不满足其他的 case 条件。<strong>通常情况下每个 case 块结尾都应该有</strong> <code>break</code>。</p><p><code>default</code> 关键词用来处理没有匹配到任何 <code>case</code> 情况，如果没有匹配到则执行 default 中的指令。如果不需要处理没有指定的 case 匹配到的情况时 default 可以被省略。</p><h3>for 循环</h3><p>使用 loop 循环可以多次执行一段代码，通过一些条件来控制循环次数及参数值。</p><p>JavaScript 提供三种类型的循环：for, while, 和 do while。</p><p>for 循环语法如下：</p><pre><code>for (statement 1; statement 2; statement 3) {
   code block to be executed
}</code></pre><ul><li>Statement 1 在循环前被执行</li><li>Statement 2 定义执行循环的状态</li><li>Statement 3 在每次循环后被执行</li></ul><p>下面的示例将输出 0 - 4：</p><pre><code>for (var i=0; i&lt;5; i++) {
    document.write(i + &quot;&lt;br&gt;&quot;);
    
}</code></pre><p>过程为：首先给变量 i 赋值为 1，执行循环的条件是 i&lt;5，每次循环后给 i 加 1。当 i==4 时，执行完本次循环后 i 加 1 后值为 5，不满足第二项条件就会跳出循环。</p><p><strong>statement 1</strong> 是可选项可以不写，如：</p><pre><code>var i = 0;
for (; i&lt;5; i++) {
    document.write(i + &quot;&lt;br&gt;&quot;);
    
}</code></pre><p>和第一个示例效果是一样的。</p><p><strong>statement 1</strong> 也可以同时定义多个参数，使用逗号<code>,</code> 来隔离，如：</p><pre><code>for (var i=0, j=2; i&lt;5; i++) {
    document.write(i + &quot;&lt;br&gt;&quot;);
    
}</code></pre><p>如果 <strong>statement 2</strong> 返回 true 则会执行循环块内容，如果返回 false 则会结束循环。</p><p>同样的 <strong>statement 2</strong> 也是可选项，也可以不定义，但是必须在循环块内定义 <code>break</code> 不然就会无线循环下去：</p><pre><code>for (var i=0; ; i++) {
    if (i &gt;= 5)
        break;
    document.write(i + &quot;&lt;br&gt;&quot;);
}</code></pre><p>statement 3 用来修改初始变量的值，同样也是可选项，可以在循环块内部直接修改初值：</p><pre><code>for (var i=0; i&lt;5 ;) {
    document.write(i + &quot;&lt;br&gt;&quot;);
    i++;
}</code></pre><h3>while 循环</h3><p>while 循环也是用来实现当某个 condition 为 true 时循环一个代码块。语法如下：</p><pre><code>while (condition) {    
   code block
}</code></pre><p>下面的示例将输出 0 - 10 的数字：</p><pre><code>var i = 0;
while (i&lt;=10) {
    document.write(i + &quot;&lt;br&gt;&quot;);
    i++;
}</code></pre><p>当 condition 一直为 true 时，循环就会继续下去。我们应该避免无限循环情况出现。</p><h3>do while 循环</h3><p>do while 循环是 while 循环的一种变形，它会首先执行一次循环块然后判断 condition 条件。语法如下：</p><pre><code>do {
   code block
}
while (condition);</code></pre><p>注意 while 结尾的分号<code>;</code> 不能省略。</p><p>下面的示例会输出 0 - 4：</p><pre><code>var i = 0;
do {
    document.write(i + &quot;&lt;br&gt;&quot;);
    i++;
} while (i&lt;5);</code></pre><p><strong>循环块至少会执行一次，即使 condition 为 false。</strong></p><h3>break</h3><p><code>break</code> 指令用来跳出循环继续执行后续程序。</p><p>下面示例中，将只会输出 0 - 4 的数字：</p><pre><code>for (var i=0; i&lt;10 ; i++) {
    if (i == 5)
        break;
    document.write(i + &quot;&lt;br&gt;&quot;);
}</code></pre><p>在 function 中可以使用 return 来跳出当前代码块，下一章节将会介绍。</p><h3>continue</h3><p><code>continue</code> 指令用来仅跳出当次循环，然后继续进行下一次循环。</p><p>下面示例将会输出 0- 10，但不包括 5：</p><pre><code>for (var i=0; i&lt;10 ; i++) {
    if (i == 5)
        continue;
    document.write(i + &quot;&lt;br&gt;&quot;);
}</code></pre><p>当 i 等于 5 时会跳出本次循环所以不会输出 5，但是会继续进行下面的循环。</p>
]]></content>
<link rel="replies" type="text/html" href="https://blog.niekun.net/archives/1990.html#comments" thr:count="0" />
<link rel="replies" type="application/atom+xml" href="https://blog.niekun.net/feed/atom/archives/1990.html" thr:count="0"/>
</entry>
<entry>
<title type="html"><![CDATA[JavaScript 入门教程之二 -- 基本概念]]></title>
<link rel="alternate" type="text/html" href="https://blog.niekun.net/archives/1985.html" />
<id>https://blog.niekun.net/archives/1985.html</id>
<updated>2020-12-17T16:33:00+08:00</updated>
<published>2020-12-17T16:33:00+08:00</published>
<author>
    <name>admin</name>
    <uri>https://niekun.net</uri>
</author>
<summary type="html"><![CDATA[数学运算符有以下运算符可以使用：加减运算使用方法很简单：var b = 10 + 2;var c = b - 3;document.write(c);]]></summary>
<content type="html" xml:base="https://blog.niekun.net/archives/1985.html" xml:lang="zh-CN"><![CDATA[
<h3>数学运算符</h3><p>有以下运算符可以使用：<br><img src="https://blog.niekun.net/usr/uploads/2020/12/2072140588.png" alt="1.png" title="1.png"></p><p><strong>加减运算</strong>使用方法很简单：</p><pre><code>var b = 10 + 2;
var c = b - 3;
document.write(c);</code></pre><!--more--><p>可以使用 <code>eval()</code> 来将计算结果转换为字符串形式：</p><pre><code>var d = eval(&quot;10 + 2 + 1&quot;)
document.write(d);</code></pre><p>d 的结果就是 <code>&quot;13&quot;</code>。</p><p><strong>乘法使用星号<code>*</code> 来表示</strong>，以下三种写法都是正确的：</p><pre><code>var e = 2 * 3;
var f = 2 * '3';
var g = '2' * '3';
document.write(g);</code></pre><p>注意如果尝试对一个字符串进行乘法计算会返回：NaN (Not a Number)：</p><pre><code>var h = 'hello' * 2;
document.write(h);

//output：
//NaN</code></pre><p><strong>除法使用斜线<code>/</code> 表示</strong>：</p><pre><code>var i = 1 / 2;</code></pre><p>注意被除数不能为 0。</p><p>取模运算使用<code>%</code> 表示：</p><pre><code>var j = 10 % 3;
document.write(j);

//output:
//1</code></pre><p>可以对整数和浮点型数字进行取模运算。</p><p><strong>递增和递减</strong>：</p><p><img src="https://blog.niekun.net/usr/uploads/2020/12/1935080336.png" alt="2.png" title="2.png"></p><p>使用<code>++</code> 表示给对应变量进行加 1 运算，操作符写在变量前则返回加 1 后的值。写在后边返回加 1 前的值。<br>使用<code>--</code> 表示给对应变量进行减 1 运算，操作符写在变量前则返回减 1 后的值。写在后边返回减 1 前的值</p><pre><code>var k = 10;
var l = k++;
var m = ++l;
document.write(m);

//output:
//11</code></pre><h3>分配符 Assignment Operators</h3><p>可用的分配符有：<br><img src="https://blog.niekun.net/usr/uploads/2020/12/3717535399.png" alt="3.png" title="3.png"></p><p>除了常规用法外，也可以在一行命令中使用多个分配符，例如：</p><pre><code>var n = 4;
var o = 5;
o += n += 3;
document.write(o);

//output:
//12</code></pre><h3>比较符 Comparison Operators</h3><p>在逻辑判断中使用比较符来比较数据是否有区别。结果为 true 或 false。</p><p>例如可以使用 equal to (==) operator 来比较两个数据是否一样：</p><pre><code>var p = 2;
document.write(p == 1);

//output:
//false</code></pre><p>所有的数据类型都可以进行比较，返回值只有 true 和 false。但需要注意比较的两个数据需要是同一类型的。</p><p>以下是可用的比较符：<br><img src="https://blog.niekun.net/usr/uploads/2020/12/218772581.png" alt="4.png" title="4.png"></p><h3>逻辑判断符 Logical Operators</h3><p>逻辑判断符用来评估一个表达式，返回结果为 true 和 false。可用的逻辑判断符为：<strong>AND, OR, NOT</strong>：</p><ul><li><code>&amp;&amp;</code> - AND 如果判断块都为 true，则返回 true</li><li><code>||</code> - OR  如果任何一个判断块为 true，则返回 true</li><li><code>!</code> - NOT  如果判断块为 false，则返回 true</li></ul><p>下面的示例是对两个判断块进行 与<code>AND</code> 操作：</p><pre><code>(4 &gt; 2) &amp;&amp; (1 &lt; 3);</code></pre><p>以上两个判断块都为 true 则整个逻辑判断结果为 true。</p><h3>状况判断符 Conditional (Ternary) Operator</h3><p>状况判断符用来根据一些实际状态给某个变量赋值。语法如下：</p><pre><code>variable = (condition) ? value1: value2 
</code></pre><p>下面举例说明：</p><pre><code>var age = 20;
var isAdult = (age &lt; 18) ? &quot;too young&quot; : &quot;old enough&quot;;
document.write(isAdult);

//OUTPUT:
//old enough</code></pre><p>以上示例中，如果 age 小于 18 则 isAdult 赋值为 "too young"，如果 age 大于等于 18 则 isAdult 赋值为 "old enough"。</p><h3>字符串操作符 String Operators</h3><p>我们可以使用级联符<code>+</code> 来将多个字符串组合成一个新的字符串。例如：</p><pre><code>var str1 = &quot;this is a &quot;;
var str2 = &quot;test string&quot;;
document.write(str1 + str2);

//output:
// this is a test string</code></pre><p>注意一个数字使用引号括起来后就成了一个字符串，如：<code>&quot;42&quot;</code> 表示一个字符串。。</p>
]]></content>
<link rel="replies" type="text/html" href="https://blog.niekun.net/archives/1985.html#comments" thr:count="0" />
<link rel="replies" type="application/atom+xml" href="https://blog.niekun.net/feed/atom/archives/1985.html" thr:count="0"/>
</entry>
<entry>
<title type="html"><![CDATA[JavaScript 入门教程之一 -- 总览]]></title>
<link rel="alternate" type="text/html" href="https://blog.niekun.net/archives/1979.html" />
<id>https://blog.niekun.net/archives/1979.html</id>
<updated>2020-12-17T10:31:00+08:00</updated>
<published>2020-12-17T10:31:00+08:00</published>
<author>
    <name>admin</name>
    <uri>https://niekun.net</uri>
</author>
<summary type="html"><![CDATA[JavaScript（通常缩写为JS）是一种高级的、解释型的编程语言。JavaScript是一门基于原型、函数先行的语言，是一门多范式的语言，它支持面向对象程序设计，命令式编程，以及函数式编程。...]]></summary>
<content type="html" xml:base="https://blog.niekun.net/archives/1979.html" xml:lang="zh-CN"><![CDATA[
<blockquote>JavaScript（通常缩写为JS）是一种高级的、解释型的编程语言。JavaScript是一门基于原型、函数先行的语言，是一门多范式的语言，它支持面向对象程序设计，命令式编程，以及函数式编程。最初命名为 Mocha，1995年9月在 Netscape Navigator 2.0 的 Beta 版中改名为 LiveScript，同年12月，Netscape Navigator 2.0 Beta 3 中部署时被重命名为 JavaScript，当时网景公司与昇阳电脑公司组成的开发联盟为了让这门语言搭上 Java 这个编程语言“热词”，因此将其临时改名为 JavaScript，日后这成为大众对这门语言有诸多误解的原因之一。</blockquote><p>不同于服务器端脚本语言，例如 PHP 与 ASP，JavaScript 主要被作为客户端脚本语言在用户的浏览器上运行，不需要服务器的支持。所以在早期程序员比较青睐于 JavaScript 以减少对服务器的负担，而与此同时也带来另一个问题：安全性。而随着服务器变得强大，现在的程序员更喜欢运行于服务端的脚本以保证安全，但 JavaScript 仍然以其跨平台、容易上手等优势大行其道。同时，有些特殊功能（如AJAX）必须依赖 JavaScript 在客户端进行支持。随着引擎如 V8 和框架如 Node.js 的发展，及其事件驱动及异步 IO 等特性，JavaScript 逐渐被用来编写服务器端程序。且在近几年中，Node.js 的出世，让 JavaScript 也具有了一定的服务器功能。</p><!--more--><h3>我们的第一个 JavaScript</h3><p>我们首先来了解一些基本概念，给 web 网页加上 JavaScript。</p><p>在 web 上，JavaScript 位于 HTML document 内，可以在任意位置。js 内容使用 <code>&lt;script&gt;</code> 和 <code>&lt;/script&gt;</code> 包围起来：</p><pre><code>&lt;script&gt;
   ...
&lt;/script&gt;</code></pre><p>让我们使用 JavaScript 在网页上打印出一个 <strong>Hello World</strong>，新建一个 html 文件，内容如下：</p><pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Page Title&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        
    &lt;/body&gt;
    &lt;script&gt;
        document.write(&quot;hello world&quot;);
    &lt;/script&gt;
&lt;/html&gt;</code></pre><p>使用 <code>document.write()</code> function 用来给 html document 写入内容。注意此 function 只用来测试，实际使用中会覆盖 document 中已有的内容。</p><p><strong>JavaScript 每条指令结尾使用分号<code>;</code> 来标记。</strong></p><p>文件保存后可以使用浏览器打开查看效果。</p><p>js 中还支持标准 html markup 标记语法，我们给 hello world 设置属性：</p><pre><code>    &lt;script&gt;
        document.write(&quot;&lt;h1&gt;hello world&lt;/h1&gt;&quot;);
    &lt;/script&gt;</code></pre><p>这时候文字会以标题模式显示。</p><p>也可以在浏览器终端 console 中输出信息，使用 <code>console.log()</code> function 实现：</p><pre><code>    &lt;script&gt;
        document.write(&quot;&lt;h1&gt;hello world&lt;/h1&gt;&quot;);
        console.log(&quot;this is a test log&quot;);
    &lt;/script&gt;</code></pre><p>打开浏览器的调试窗口即可看到输出信息，chrome 浏览器使用快捷键 <strong>ctrl+shift+I</strong> 或设置中打开调试：<br><img src="https://blog.niekun.net/usr/uploads/2020/12/3155874967.jpg" alt="1.jpg" title="1.jpg"></p><p>点击 console 栏查看：<br><img src="https://blog.niekun.net/usr/uploads/2020/12/2655756535.jpg" alt="2.jpg" title="2.jpg"></p><h3>注释</h3><p>对于不需要被执行的语句可以使用符号来忽略，使用双斜杠 <code>//</code> 注释单行内容，使用 <code>/*</code> 和 <code>*/</code> 注释一个块。</p><p>修改我们上面的 html 文件的 js 块：</p><pre><code>    &lt;script&gt;
        // this is a commit
        document.write(&quot;&lt;h1&gt;hello world&lt;/h1&gt;&quot;);
        console.log(&quot;this is a test log&quot;);
        /* this code create
            a alert box
        */
        alert(&quot;this is a alert box&quot;);
    &lt;/script&gt;</code></pre><p><code>alert()</code> function 用来弹出一个提示窗口。</p><h3>变量</h3><p>variables 变量是存储数据的容器。变量的值可以再程序中被修改。</p><p>使用关键词 <code>var</code> 申明一个变量：</p><pre><code>var x = 10;
</code></pre><p>以上指令给变量 x <strong>分配</strong>数据 10。注意我们在此使用 <strong>assign 分配</strong>来描述这个过程，因为在 JavaScript 中等于号<code>=</code> 会调用 <code>assignment</code> operator 操作符，而不是 <code>equal to</code> operator 操作符。</p><p>变量名是大小写敏感的，也就是说 <code>name</code> 和 <code>Name</code> 是两个变量。</p><p>让我们输出一个变量值到浏览器：</p><pre><code>var x = 10;
document.write(x);</code></pre><p><strong>变量定义的基本原则：</strong></p><ul><li>首字符必须是这三者之一：字母，下划线<code>_</code>，<code>$</code> 符。后续字符可以是字母、数字，下划线或者 <code>&amp;</code></li><li>名称不能包含数学运算符或操作符</li><li>不能包含空格</li><li>不能使用特殊字符，如：# & % 等</li><li>不能使用连字符<code>-</code>，这是减法保留符</li></ul><h3>数据类型</h3><p>JavaScript 支持多种类型的数据：numbers, strings, arrays 等。</p><h4>number</h4><p>number 可以是整数或小数：</p><pre><code>var a = 10;
var b = 1.1;</code></pre><p>变量分配的数据类型可以任意修改，例如重新分配 a 的数据为 string 字符串：</p><pre><code>a = &quot;this is a strings&quot;;
</code></pre><h4>string</h4><p>使用 string 可以来存储及操作文本信息。使用引号来包裹内容，单引号<code>'</code> 或双引号<code>&quot;</code> 都可以：</p><pre><code>var a = 'marco';
var b = &quot;john&quot;;</code></pre><p>如果要在 string 内部使用也引号，可以通过内外使用不同的单双引号来实现，js 会自动区分：</p><pre><code>var a = &quot;this is a 'test'&quot;;
</code></pre><p>如果内外想要使用同一个引号形式可以在内部使用转义符 <code>\</code> 来实现：</p><pre><code>a = &quot;this \&quot;is\&quot; a \&quot;other\&quot; test&quot;;
</code></pre><p>转义符可以将特殊字符作为普通字符使用，也可以实现特殊功能，一些列表是常用的转码：<br><img src="https://blog.niekun.net/usr/uploads/2020/12/3151408178.png" alt="3.png" title="3.png"></p><p><strong>注意字符串的包裹分号需要前后统一，起始用了单引号结尾也必须使用单引号，否则会报错。</strong></p><h3>Boolean</h3><p>Boolean 只有两种结果：true 和 false。</p><p>如果你需要一种只有两种可能的结果的数据类型，就可以使用 Boolean：</p><pre><code>var isActive = true;</code></pre><p>注意 Boolean 类型的值如果是：0 (zero), null, undefined, empty string 则都是 false，其他如果有一个真实数据的都为 true。</p>
]]></content>
<link rel="replies" type="text/html" href="https://blog.niekun.net/archives/1979.html#comments" thr:count="0" />
<link rel="replies" type="application/atom+xml" href="https://blog.niekun.net/feed/atom/archives/1979.html" thr:count="0"/>
</entry>
<entry>
<title type="html"><![CDATA[nextcloud 安装教程]]></title>
<link rel="alternate" type="text/html" href="https://blog.niekun.net/archives/1904.html" />
<id>https://blog.niekun.net/archives/1904.html</id>
<updated>2020-11-11T10:42:14+08:00</updated>
<published>2020-11-11T10:42:14+08:00</published>
<author>
    <name>admin</name>
    <uri>https://niekun.net</uri>
</author>
<summary type="html"><![CDATA[安装包：https://nextcloud.com/changelog/#latest20系统需求：https://docs.nextcloud.com/server/20/admin_manu...]]></summary>
<content type="html" xml:base="https://blog.niekun.net/archives/1904.html" xml:lang="zh-CN"><![CDATA[
<p>安装包：<a href="https://nextcloud.com/changelog/#latest20">https://nextcloud.com/changelog/#latest20</a><br>系统需求：<a href="https://docs.nextcloud.com/server/20/admin_manual/installation/system_requirements.html">https://docs.nextcloud.com/server/20/admin_manual/installation/system_requirements.html</a><br>nginx 配置：<a href="https://docs.nextcloud.com/server/18/admin_manual/installation/nginx.html">https://docs.nextcloud.com/server/18/admin_manual/installation/nginx.html</a><br>php 配置相关：<a href="https://docs.nextcloud.com/server/20/admin_manual/installation/source_installation.html#php-fpm-tips-label">https://docs.nextcloud.com/server/20/admin_manual/installation/source_installation.html#php-fpm-tips-label</a><br>修改 php 内存限制：<a href="https://www.chinaz.com/program/2011/1010/213048.shtml">https://www.chinaz.com/program/2011/1010/213048.shtml</a><br>安装 php 内存缓存：<a href="https://docs.nextcloud.com/server/15/admin_manual/configuration_server/caching_configuration.html">https://docs.nextcloud.com/server/15/admin_manual/configuration_server/caching_configuration.html</a><br>命令行安装：<a href="https://docs.nextcloud.com/server/stable/admin_manual/installation/command_line_installation.html">https://docs.nextcloud.com/server/stable/admin_manual/installation/command_line_installation.html</a></p>
]]></content>
<link rel="replies" type="text/html" href="https://blog.niekun.net/archives/1904.html#comments" thr:count="0" />
<link rel="replies" type="application/atom+xml" href="https://blog.niekun.net/feed/atom/archives/1904.html" thr:count="0"/>
</entry>
<entry>
<title type="html"><![CDATA[子网-子网掩码-子网地址的含义解析]]></title>
<link rel="alternate" type="text/html" href="https://blog.niekun.net/archives/1885.html" />
<id>https://blog.niekun.net/archives/1885.html</id>
<updated>2020-10-27T22:32:00+08:00</updated>
<published>2020-10-27T22:32:00+08:00</published>
<author>
    <name>admin</name>
    <uri>https://niekun.net</uri>
</author>
<summary type="html"><![CDATA[互联网设备之间是通过分配给每台主机的 IP 地址实现访问的，当前是以 32 位 IPv4 地址作为标准。为了便于使用，每 8 位用点.来隔开，习惯使用十进制形式表示，如：192.168.88.3...]]></summary>
<content type="html" xml:base="https://blog.niekun.net/archives/1885.html" xml:lang="zh-CN"><![CDATA[
<p>互联网设备之间是通过分配给每台主机的 IP 地址实现访问的，当前是以 32 位 IPv4 地址作为标准。为了便于使用，每 8 位用点<code>.</code>来隔开，习惯使用十进制形式表示，如：192.168.88.3</p><pre><code>Decimal  192         168         88           3
Binary   11000000    10101000    01011000     00000011</code></pre><p>理论上可以分配 2 的 32 次方个 IP 地址。</p><!--more--><h3>子网</h3><p>IP 地址可以划分为多个子集，也就是子网。比如一个路由器上连接的设备就在一个子网系统下，每个设备分配的 IP 地址就是子网网段内的地址。</p><p>子网的优势是设备间的访问更加直接，内部设备不需要连接子网以外的网络就可以实现内部互通。管理员对子网内的维护也更加方便，不会影响子网外的网络。</p><p>子网的 IP 段是一个连续的区间，如：192.168.1.0～192.168.1.255，在这个子网内的主机分配的 IP 地址最后一段就在 0～255 之间，其中第一个 192.168.0.0 是子网地址，最后一个 192.168.1.255 是广播地址，这两个地址是默认占用的，不能分配给主机使用。</p><h3>子网掩码</h3><p>子网掩码是为了能更加方便清晰的表达子网网段范围而被使用的。</p><p>一个典型的子网掩码格式：<code>255.255.255.128</code>，写成二进制如下：<code>11111111.11111111.11111111.10000000</code></p><p>如果子网内的一个主机 IP 地址为：192.168.88.3，我们和子网掩码按位进行<code>与</code>操作：</p><pre><code>192.168.88.3     11000000    10101000    01011000    00000011
255.255.255.128  11111111    11111111    11111111    10000000
192.168.88.0     11000000    10101000    01011000    00000000</code></pre><p>最后一行是结果写成十进制为：192.168.88.0，这就是子网的第一个 IP 地址，也就是子网地址。</p><p>子网掩码内为<code>1</code>的位对应的 IP 位是子网的固定位，这些位在网段内是固定不变的，也就是以上示例中前 25 位 IP 地址都是子网固定位，后 7 位就是子网可分配的地址位，可分配的地址如下：</p><pre><code>192.168.88.0     1000000    10101000    01011000    00000000
192.168.88.127   1000000    10101000    01011000    01111111</code></pre><p>此子网网段 IP 就是：192.168.88.0～192.168.88.127，可分配给主机的地址为：192.168.88.1～192.168.88.126</p><p>子网完整的表述形式为：子网地址：192.168.88.0；子网掩码：225.225.225.128</p><p>也可以使用 CIDR 的形式描述：192.168.88.0/25，此方式更加简洁。关于 CIDR 的形式参考我的文章：<a href="https://blog.niekun.net/archives/399.html">https://blog.niekun.net/archives/399.html</a></p><p>子网掩码可分配位必须是连续的位，比如：必须是连续的32/31/30位为0，而不能是32/30位0，31位为1。所以子网掩码的可用编码就大大缩小的范围，比如固定位为前24位：255.255.255，后8位可用的编码方式只能在一下几种中选择：</p><pre><code>00000000    0
10000000    128
11000000    192
11100000    224
11110000    240
11111000    248
11111100    252
11111110    254
11111111    255</code></pre><p>以上就是子网系统的简单介绍。</p><h3>参考连接</h3><p><a href="https://www.ionos.com/digitalguide/server/know-how/subnetting-how-do-subnets-work/">Use subnetting to get the most out of your network</a><br><a href="https://www.ionos.com/digitalguide/server/know-how/broadcast-address/">What is a broadcast address and how does it work?</a><br><a href="https://blog.csdn.net/lihchweb/article/details/81226452">IP地址，子网掩码计算子网地址，广播地址，子网划分</a></p>
]]></content>
<link rel="replies" type="text/html" href="https://blog.niekun.net/archives/1885.html#comments" thr:count="1" />
<link rel="replies" type="application/atom+xml" href="https://blog.niekun.net/feed/atom/archives/1885.html" thr:count="1"/>
</entry>
<entry>
<title type="html"><![CDATA[Linux 下使用 OptiPNG 压缩图片]]></title>
<link rel="alternate" type="text/html" href="https://blog.niekun.net/archives/1666.html" />
<id>https://blog.niekun.net/archives/1666.html</id>
<updated>2020-07-14T17:25:00+08:00</updated>
<published>2020-07-14T17:25:00+08:00</published>
<author>
    <name>admin</name>
    <uri>https://niekun.net</uri>
</author>
<summary type="html"><![CDATA[最近越来也发现自己的博客加载图片变慢了，由于我很多教程是教 PS 的，会使用到很多图片和截图，所以影响尤其明显。每张图片小则 400Kb 大则 2-3Mb，对于网络浏览不太友好。可以直接在服务器...]]></summary>
<content type="html" xml:base="https://blog.niekun.net/archives/1666.html" xml:lang="zh-CN"><![CDATA[
<p>最近越来也发现自己的博客加载图片变慢了，由于我很多教程是教 PS 的，会使用到很多图片和截图，所以影响尤其明显。每张图片小则 400Kb 大则 2-3Mb，对于网络浏览不太友好。</p><p>可以直接在服务器上进行图片压缩，用到的工具是 OptiPNG。</p><p>OptiPNG home page：<a href="http://optipng.sourceforge.net/">http://optipng.sourceforge.net/</a></p><!--more--><h3>编译安装</h3><p>我选择从源码编译安装，这样可以直接使用最新版本。</p><p><strong>如何从源码编译程序可以参考我的文章</strong>：<a href="https://blog.niekun.net/archives/883.html">https://blog.niekun.net/archives/883.html</a></p><p>首先从官网下载源码到 vps 并解压：</p><pre><code>cd /tmp
wget http://prdownloads.sourceforge.net/optipng/optipng-0.7.7.tar.gz
tar xvf optipng-0.7.7.tar.gz
</code></pre><p>新建安装路径：</p><pre><code>mkdir /opt/optipng-0.7.7
ln -s /opt/optipng-0.7.7 /opt/optipng
</code></pre><p>configure & make：</p><pre><code>cd /tmp/optipng-0.7.7
./configure --prefix=/opt/optipng-0.7.7
make
make install
</code></pre><p>测试是否可以执行：</p><pre><code>/opt/optipng/bin/optipng
</code></pre><p>创建系统链接：</p><pre><code>ln -s /opt/optipng/bin/optipng /usr/local/bin/optipng
</code></pre><h3>使用</h3><p>可以使用命令查看处理前处理后的图片体积：</p><pre><code>ls -lh a.png
</code></pre><p>压缩一张 png 图片：</p><pre><code>optipng a.png
</code></pre><p>压缩目录下的所有 png 图片：</p><pre><code>optipng *.png
</code></pre><p>可以自定义压缩等级：</p><pre><code>Optimization levels:
    -o0         &lt;=&gt;     -o1 -nx -nz                             (0 or 1 trials)
    -o1         &lt;=&gt;     -zc9 -zm8 -zs0 -f0                      (1 trial)
                (or...) -zc9 -zm8 -zs1 -f5                      (1 trial)
    -o2         &lt;=&gt;     -zc9 -zm8 -zs0-3 -f0,5                  (8 trials)
    -o3         &lt;=&gt;     -zc9 -zm8-9 -zs0-3 -f0,5                (16 trials)
    -o4         &lt;=&gt;     -zc9 -zm8 -zs0-3 -f0-5                  (24 trials)
    -o5         &lt;=&gt;     -zc9 -zm8-9 -zs0-3 -f0-5                (48 trials)
    -o6         &lt;=&gt;     -zc1-9 -zm8 -zs0-3 -f0-5                (120 trials)
    -o7         &lt;=&gt;     -zc1-9 -zm8-9 -zs0-3 -f0-5              (240 trials)
    -o7 -zm1-9  &lt;=&gt;     -zc1-9 -zm1-9 -zs0-3 -f0-5              (1080 trials)
Notes:
    The combination for -o1 is chosen heuristically.
    Exhaustive combinations such as &quot;-o7 -zm1-9&quot; are not generally recommended.
Examples:
    optipng file.png                                            (default speed)
    optipng -o5 file.png                                        (slow)
    optipng -o7 file.png                                        (very slow)</code></pre>
]]></content>
<link rel="replies" type="text/html" href="https://blog.niekun.net/archives/1666.html#comments" thr:count="0" />
<link rel="replies" type="application/atom+xml" href="https://blog.niekun.net/feed/atom/archives/1666.html" thr:count="0"/>
</entry>
<entry>
<title type="html"><![CDATA[使用 echo 模块输出 nginx 变量]]></title>
<link rel="alternate" type="text/html" href="https://blog.niekun.net/archives/1489.html" />
<id>https://blog.niekun.net/archives/1489.html</id>
<updated>2020-03-30T15:43:00+08:00</updated>
<published>2020-03-30T15:43:00+08:00</published>
<author>
    <name>admin</name>
    <uri>https://niekun.net</uri>
</author>
<summary type="html"><![CDATA[最近在学习 nginx 的反向代理，在处理请求和响应的时候，需要处理 header 头信息用到了很多 nignx 变量，但是在传递给代理服务器时，我不知道我设置的 proxy_set_heade...]]></summary>
<content type="html" xml:base="https://blog.niekun.net/archives/1489.html" xml:lang="zh-CN"><![CDATA[
<p>最近在学习 nginx 的反向代理，在处理请求和响应的时候，需要处理 header 头信息用到了很多 nignx 变量，但是在传递给代理服务器时，我不知道我设置的 proxy_set_header 等信息是否设置正确，以及其他用到的变量到底当前值是多少我也不知道。调试起来很费劲。</p><p>发现一个第三方 nginx 模块：<strong>echo</strong>，可以方便的输出信息，利用这一模块可以实现变量值读取到 html，调试方便了很多。</p><p>echo GitHub 主页：<a href="https://github.com/openresty/echo-nginx-module">https://github.com/openresty/echo-nginx-module</a></p><!--more--><h3>编译</h3><p>echo 模块需要从源码编译 nginx 时使用指令：<code>--add-module=</code> 加入，源码编译 nginx 及加入第三方模块参考我的教程：<a href="https://blog.niekun.net/archives/30.html">Nginx 安装/编译教程</a></p><h3>使用</h3><p>echo 使用命令很简单：</p><pre><code>server{
    listen 80;
    server_name 127.0.0.1;

    location /echo {
        default_type text/plain;
        echo 'remote address: $remote_addr';
        echo 'remote_port: $remote_port';
    }
}</code></pre><p>default_type text/plain 指令设置响应内容的格式，不设置的话浏览器访问会返回下载文件而不是网页。</p><p>执行 <code>curl 127.0.0.1/echo</code> 或浏览器访问 127.0.0.1/echo 路径就会看到 echo 定义的内容。</p><p>**注意如果在 echo 指令下面定义了其他 html 页面或者 proxy_pass 反向代理，则 echo 的内容会被覆盖，如果 echo 指令在 <br> location 段的最后，则会显示 echo 指令的内容。**</p>
]]></content>
<link rel="replies" type="text/html" href="https://blog.niekun.net/archives/1489.html#comments" thr:count="1" />
<link rel="replies" type="application/atom+xml" href="https://blog.niekun.net/feed/atom/archives/1489.html" thr:count="1"/>
</entry>
</feed>