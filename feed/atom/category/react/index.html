<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"
xmlns:thr="http://purl.org/syndication/thread/1.0"
xml:lang="zh-CN"
xml:base="https://blog.niekun.net/category/react/"
>
<title type="text">Marco Nie - react</title>
<subtitle type="text"></subtitle>
<updated>2021-02-23T15:39:00+08:00</updated>
<generator uri="http://typecho.org/" version="1.2/18.10.23">Typecho</generator>
<link rel="alternate" type="text/html" href="https://blog.niekun.net/category/react/" />
<id>https://blog.niekun.net/feed/atom/category/react/</id>
<link rel="self" type="application/atom+xml" href="https://blog.niekun.net/feed/atom/category/react/" />
<entry>
<title type="html"><![CDATA[React 入门教程之一 -- 简介]]></title>
<link rel="alternate" type="text/html" href="https://blog.niekun.net/archives/2175.html" />
<id>https://blog.niekun.net/archives/2175.html</id>
<updated>2021-02-23T15:39:00+08:00</updated>
<published>2021-02-23T15:39:00+08:00</published>
<author>
    <name>admin</name>
    <uri>https://niekun.net</uri>
</author>
<summary type="html"><![CDATA[React 是一个用来创建用户界面的 JavaScript 库。它从一开始就被设计为 gradual adoption 渐进式融入的模式，你可以根据需求使用 React 到你的项目中，无论是使用...]]></summary>
<content type="html" xml:base="https://blog.niekun.net/archives/2175.html" xml:lang="zh-CN"><![CDATA[
<p><strong>React</strong> 是一个用来创建用户界面的 JavaScript 库。</p><p>它从一开始就被设计为 gradual adoption 渐进式融入的模式，你可以根据需求使用 React 到你的项目中，无论是使用 React 对你的 html 页面做简单交互，或者完全使用 React 搭建程序。</p><!--more--><h3>对现有网页加入 React 支持</h3><p>当你需要对现有的网页做一些简单的交互动作时，React 也可以方便的加入进来。下面的示例中我们介绍如何通过 React 给页面添加一个 component 元素。</p><p>首先给 html 页面添加一个 DOM 元素：</p><pre><code>&lt;!-- ... existing HTML ... --&gt;
&lt;div id=&quot;like_button_container&quot;&gt;&lt;/div&gt;
&lt;!-- ... existing HTML ... --&gt;</code></pre><p>然后在 body 块结尾添加 React 模块的 script 脚本标签：</p><pre><code>  &lt;!-- ... other HTML ... --&gt;

  &lt;!-- Load React. --&gt;
  &lt;!-- Note: when deploying, replace &quot;development.js&quot; with &quot;production.min.js&quot;. --&gt;
  &lt;script src=&quot;https://unpkg.com/react@17/umd/react.development.js&quot; crossorigin&gt;&lt;/script&gt;
  &lt;script src=&quot;https://unpkg.com/react-dom@17/umd/react-dom.development.js&quot; crossorigin&gt;&lt;/script&gt;

  &lt;!-- Load our React component. --&gt;
  &lt;script src=&quot;like_button.js&quot;&gt;&lt;/script&gt;

&lt;/body&gt;</code></pre><p>前两个 script 加载 React，最后一个是我们加载自定义 component 的代码。</p><p>如果 script 部署在 CDN 上，推荐加上 <strong>crossorigin</strong> 属性可以提高加载速度。</p><p>然后我们使用 React 编写 like_button.js，详细的实现代码我们在后续介绍，最后我们通过下面指令将 React component 加入 html 容器：</p><pre><code>// ... the starter code you pasted ...

const domContainer = document.querySelector('#like_button_container');
ReactDOM.render(e(LikeButton), domContainer);</code></pre><p>以上就是将 React component 加入现有网页的过程。</p><h3>缩小 JavaScript 文件尺寸</h3><p>在部署我们的网站前，要注意没有经过缩小化处理的 JavaScript 脚本会导致页面加载缓慢。</p><p>首先我们将加载 React 的脚本使用缩小化的版本链接：</p><pre><code>&lt;script src=&quot;https://unpkg.com/react@17/umd/react.production.min.js&quot; crossorigin&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/react-dom@17/umd/react-dom.production.min.js&quot; crossorigin&gt;&lt;/script&gt;</code></pre><p>对于我们自己编写的 React 脚本可以通过工具得到缩小后的版本，这里介绍通过 <strong>node.js</strong> 的 <strong>terser</strong> 库来实现：</p><ul><li>首先安装 node.js</li><li>在项目目录下运行 <code>npm init -y</code></li><li>运行 <code>npm install terser</code></li></ul><p>例如需要缩小 <strong>like_button.js</strong>，在终端运行：</p><pre><code>npx terser -c -m -o like_button.min.js -- like_button.js
</code></pre><p>就会在当前目录下得到缩小后的脚本文件 <strong>like_button.min.js</strong>。</p><h3>创建一个新的 React 程序</h3><p>以上介绍了如何将 React 添加到现有的 html 中，但是通过一套整合的工具链可以得到更好的用户和开发体验。</p><p><strong>React</strong> 团队推荐下面几种解决方案：</p><ul><li>如果你要学习 React 或者要创建一个单页面 app，推荐使用 <strong>Create React App</strong></li><li>如果你要使用 node.js 创建一个 server-rendered 服务器端渲染的网站，推荐使用 <strong>Next.js</strong></li><li>如果你要建立一个静态内容的网站，推荐使用 <strong>Gatsby</strong></li></ul><h3>Create React App</h3><p><strong>Create React App</strong> 是学习 React 很好的环境，也是建立单页面 React 应用程序最好的方式。</p><p>官方网站：<a href="https://create-react-app.dev/">https://create-react-app.dev/</a></p><p>它会自动设置开发环境是我们可以使用最新的 JavaScript 功能，提供很好的开发体验以及对发布时对程序进行优化。</p><p>使用下面指令创建并运行一个新项目：</p><pre><code>npx create-react-app my-app
cd my-app
npm start</code></pre><p>注意如果你之前使用 <code>npm install -g create-react-app</code>全局安装过 <strong>create-react-app</strong>，推荐先卸载它 <code>npm uninstall -g create-react-app</code> 从而确保 npx 能够安装最新的版本。</p><p>创建 React App 不会处理后端的数据和逻辑，它只建立前端通道。所以你可以使用任何后端服务。</p><p>通过 <code>npm start</code> 运行程序后，打开 <a href="http://localhost">http://localhost</a>:3000/ 可以查看程序运行效果。</p><p>当程序需要进行部署时，运行 <code>npm run build</code> 会在 <strong>build</strong> 目录下创建一个经过最小化代码优化处理的项目包，可以将其部署到服务器。</p><h3>Next.js</h3><p>Next.js 是一个流行的 React framework 来创建 static 和 server‑rendered 程序。</p><p>官网：<a href="https://nextjs.org/">https://nextjs.org/</a></p><h3>Gatsby</h3><p>Gatsby 是通过 React 创建静态网站的最好的工具。它使我们可以使用 React components 但输出预渲染的 html 和 css 以确保页面加载速度。</p>
]]></content>
<link rel="replies" type="text/html" href="https://blog.niekun.net/archives/2175.html#comments" thr:count="0" />
<link rel="replies" type="application/atom+xml" href="https://blog.niekun.net/feed/atom/archives/2175.html" thr:count="0"/>
</entry>
</feed>